{
  "name": "Ntfy",
  "version": "latest",
  "slug": "ntfy",
  "description": "Send push notifications to your phone or desktop via PUT/POST",
  "url": "https://ntfy.sh/",
  "arch": ["aarch64", "amd64", "armv7"],
  "image": "binwiederhier/ntfy",
  "cmd": ["serve"],
  "ports": {
    "80/tcp": 8080
  },
  "ports_description": {
    "80/tcp": "Web interface and API"
  },
  "webui": "http://[HOST]:[PORT:8080]",
  "map": ["addon_config:rw"],
  "options": {
    "base_url": "",
    "web_root": "app",
    "enable_login": true,
    "auth_default_access": "deny-all",
    "cache_duration": "12h",
    "attachment_total_size_limit": "5G",
    "attachment_file_size_limit": "15M",
    "attachment_expiry_duration": "3h",
    "log_level": "info"
  },
  "schema": {
    "base_url": "str?",
    "web_root": "list(app|home|disable)?",
    "enable_login": "bool",
    "auth_default_access": "list(read-write|read-only|write-only|deny-all)?",
    "cache_duration": "str?",
    "attachment_total_size_limit": "str?",
    "attachment_file_size_limit": "str?",
    "attachment_expiry_duration": "str?",
    "log_level": "list(trace|debug|info|warn|error)?"
  },
  "environment": {
    "NTFY_BASE_URL": "{{ .base_url }}",
    "NTFY_WEB_ROOT": "{{ .web_root }}",
    "NTFY_UPSTREAM_BASE_URL": "https://ntfy.sh",
    "NTFY_CACHE_FILE": "/data/cache.db",
    "NTFY_CACHE_DURATION": "{{ .cache_duration }}",
    "NTFY_AUTH_FILE": "/data/user.db",
    "NTFY_AUTH_DEFAULT_ACCESS": "{{ .auth_default_access }}",
    "NTFY_ATTACHMENT_CACHE_DIR": "/data/attachments",
    "NTFY_ATTACHMENT_TOTAL_SIZE_LIMIT": "{{ .attachment_total_size_limit }}",
    "NTFY_ATTACHMENT_FILE_SIZE_LIMIT": "{{ .attachment_file_size_limit }}",
    "NTFY_ATTACHMENT_EXPIRY_DURATION": "{{ .attachment_expiry_duration }}",
    "NTFY_LOG_LEVEL": "{{ .log_level }}"
  }
}
